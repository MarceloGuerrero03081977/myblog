{% extends 'base.html' %}

{% block title %}{{ message.subject }}{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card shadow">
            <div class="card-header bg-dark text-white">
                <h5 class="mb-0">{{ message.subject }}</h5>
            </div>
            <div class="card-body p-4">
                <div class="mb-3 text-muted small">
                    <strong>De:</strong> {{ message.sender.username }} &nbsp;|&nbsp;
                    <strong>Para:</strong> {{ message.receiver.username }} &nbsp;|&nbsp;
                    <strong>Fecha:</strong> {{ message.timestamp|date:"d/m/Y H:i" }}
                </div>
                <hr>
                <p style="white-space: pre-wrap;">{{ message.body }}</p>
            </div>
            <div class="card-footer d-flex gap-2">
                <a href="{% url 'inbox' %}" class="btn btn-outline-secondary">
                    <i class="bi bi-arrow-left"></i> Volver
                </a>
                <a href="{% url 'send_message_to' message.sender.username %}" class="btn btn-primary">
                    <i class="bi bi-reply"></i> Responder
                </a>
                <a href="{% url 'delete_message' message.pk %}" class="btn btn-danger ms-auto">
                    <i class="bi bi-trash"></i> Eliminar
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}